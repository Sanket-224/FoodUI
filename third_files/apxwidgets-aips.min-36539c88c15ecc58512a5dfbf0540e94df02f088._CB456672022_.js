(function(){var m=PaymentsPortal2.modules.define;m("components/DefaultComponent",["component"],function(n){return n.extend({initialize:function(){window.alert("DefaultComponent initialize!")}})});m("components/UpiOtherPMListItemComponent","component continuable events/InstrumentRowSelectedEvent public-event-registry css-utils components/SimplePaymentOptionListItemComponent lang upi-redirection-util clog".split(" "),function(n,f,e,h,c,b,k,q,g){return b.extend(f,{isUPIValidated:!1,isUpiContinuable:!1,
isUpiRegistrationSelected:!1,upiContainer:"",upiDisabledMessageContainer:"",upiValidationInputContainer:"",upiInputContainer:"",isUpiUsable:!0,instrumentId:"",instrumentType:"",isAPBSelected:!1,isUpiAPBMultiTenderEnabled:!1,selectedBankValue:"",redirectUrl:"",returnUrl:"",clientId:"",initialize:function(a,d){this.isUpiUsable=d.data.isUpiUsable;this.instrumentId=d.data.instrumentId;this.instrumentType=d.data.instrumentType;this.isUpiUsable&&(h.register(e),h.register("UpiRedirectionContinueEvent"));
this.upiContainer=d.data.upiContainer;this.upiDisabledMessageContainer=d.data.upiDisabledMessageContainer;this.upiValidationInputContainer=d.data.upiValidationInputContainer;this.upiInputContainer=d.data.upiInputContainer;this._toggleUPIInputContainer(!1);this.isUpiAPBMultiTenderEnabled=d.data.isUpiAPBMultiTenderEnabled;this._toggleUncheckAPBtoEnableUPIMessage(!1);c.showElement(this.getDOMElement(this.upiContainer))},_onInstrumentSelected:function(){this._getContainerElement().addClass("pmts-selected");
this._getInstrumentSelectionInputElement().prop("checked",!0);this._toggleUPIInputContainer(!0);this._triggerBackingInstrumentSelectedEvent()},_onInstrumentDeselected:function(){this._getContainerElement().removeClass("pmts-selected");this._toggleUPIInputContainer(!1);this._getInstrumentSelectionInputElement().prop("checked",!1)},_isInstrumentSelected:function(){return this._getContainerElement().hasClass("pmts-selected")},_getContainerElement:function(){return this.getDOMElement(this.upiContainer)},
_toggleUPIValidationContainer:function(a){0<this.getDOMElement(this.upiValidationInputContainer).length&&c.toggleElement(this.getDOMElement(this.upiValidationInputContainer),a)},_toggleUPIInputContainer:function(a){0<this.getDOMElement(this.upiInputContainer).length&&c.toggleElement(this.getDOMElement(this.upiInputContainer),a)},_toggleUncheckAPBtoEnableUPIMessage:function(a){0<this.getDOMElement(this.upiDisabledMessageContainer).length&&c.toggleElement(this.getDOMElement(this.upiDisabledMessageContainer),
a)},_triggerBackingInstrumentSelectedEvent:function(){var a=this.isUpiContinuable?[]:[this.widget.getLocalizedString(this.isUpiRegistrationSelected?"apx_upi_registration_empty_bank_selection":"apx_upi_not_verified")],d=this.isUpiRegistrationSelected&&this.isUpiContinuable;this.widget.trigger("backingInstrumentSelected",{instrumentId:this._getInstrumentId(),instrumentType:this._getInstrumentType(),errors:a,paymentMethod:this.data.paymentMethod,isUpiRedirectionRequired:d})},bindToEvents:function(){var a=
this;k.bind(b.prototype.bindToEvents,this).apply();a.widget.on(e,this,function(a){a.instrumentId===this._getInstrumentId()?this._onInstrumentSelected():this._onInstrumentDeselected()});a.widget.on("apbSelectionChanged",a,function(d){void 0!==a.widget.get("apbCheckboxSelected")&&a.isUpiUsable&&!a.isUpiAPBMultiTenderEnabled&&(this._isInstrumentSelected()&&d.isSelected&&(this.setContinuable(!1),a.widget.trigger("PaymentPlanSelected",{isValid:!1})),a.isAPBSelected=d.isSelected,this.setDisabled(d.isSelected),
this._toggleUncheckAPBtoEnableUPIMessage(d.isSelected))});a.widget.on("ValidateUpiIdResultEvent",a,function(a){this.isUpiContinuable=this.isUPIValidated=a});a.widget.on("UpiActionChangeEvent",a,function(d){a._toggleUPIValidationContainer(d.isUpiValidationContainerSelected);a.isUpiRegistrationSelected=!d.isUpiValidationContainerSelected;a.isUpiContinuable=d.isUpiValidationContainerSelected?a.isUPIValidated:a.getContinuable();d.isUpiValidationContainerSelected||(a.selectedBankValue=d.selectedBank,a.redirectUrl=
d.redirectUrl,a.returnUrl=d.returnUrl,a.clientId=d.clientId)});a.widget.on("UpiBankSelectionChangeEvent",a,function(d){a.isUpiContinuable=!0;a.isUpiRegistrationSelected=!0;a.selectedBankValue=d.selectedBank;a.redirectUrl=d.redirectUrl;a.returnUrl=d.returnUrl;a.clientId=d.clientId});a.widget.on("UpiRedirectionContinueEvent",a,function(){var d=g.getCurrentTime();a._isInstrumentSelected&&(g.logCounterMetric({feature:"UpiRegistrationRedirection",resource:"_Count"}),q.upiRegistration(a.selectedBankValue,
a.redirectUrl,a.returnUrl,a.clientId)?g.logCounterMetric({feature:"UpiRegistrationRedirection",resource:"_SuccessCount"}):g.logCounterMetric({feature:"UpiRegistrationRedirection",resource:"_ErrorCount"}),g.logLatencyMetric({feature:"UpiRegistrationRedirection",resource:"_Latency",startTime:d}),g.publishMetrics());return!1})},bindToElements:function(){var a=this;a.isUpiUsable&&a._getContainerElement().click(function(){a._isInstrumentSelected()||!a.isUpiUsable||a.isAPBSelected&&!a.isUpiAPBMultiTenderEnabled||
a._triggerInstrumentRowSelectedEvent()})}})});m("components/UpiRegistrationComponent",["component","css-utils","continuable","lang","public-event-registry"],function(n,f,e,h,c){return n.extend(e,{isUpiValidated:!1,isUpiRegistrationSelected:!1,upiActionDropdown:"",upiRegistrationDropdownContainer:"",upiBankSelectDropdown:"",redirectUrl:"",returnUrl:"",upiRegistrationDisabledApbMessageContainer:"",isUpiAPBMultiTenderEnabled:!1,isAPBSelected:!1,clientId:"",initialize:function(b,k){c.register("UpiActionChangeEvent");
c.register("UpiBankSelectionChangeEvent");c.register("UpiRedirectionRequiredEvent");this.upiBankSelectDropdown=k.data.upiBankSelectDropdown;this.upiActionDropdown=k.data.upiActionDropdown;this.upiRegistrationDropdownContainer=k.data.upiRegistrationDropdownContainer;this.redirectUrl=k.data.redirectUrl;this.returnUrl=k.data.returnUrl;this.upiRegistrationDisabledApbMessageContainer=k.data.upiRegistrationDisabledApbMessageContainer;this.isUpiAPBMultiTenderEnabled=k.data.isUpiAPBMultiTenderEnabled;this.clientId=
k.data.clientId},_toggleUPIRegistrationContainer:function(b){0<this.getDOMElement(this.upiRegistrationDropdownContainer).length&&f.toggleElement(this.getDOMElement(this.upiRegistrationDropdownContainer),b)},_toggleUncheckAPBtoEnableUPIMessage:function(b){var c=this.getDOMElement(this.upiRegistrationDisabledApbMessageContainer);0<c.length&&f.toggleElement(c,b)},_getUpiRegistrationSelectedBank:function(){var b=this.getDOMElement(this.upiBankSelectDropdown);return 0<b.length?b[0].value:""},_triggerUpiRegistrationSelection:function(){if(this.isUpiRegistrationSelected){this._toggleUncheckAPBtoEnableUPIMessage(this.isAPBSelected);
this._toggleUPIRegistrationContainer(!this.isAPBSelected);this.setContinuable(!this.isAPBSelected&&this._isBankSelected());var b;b=this.isAPBSelected?"":this._getUpiRegistrationSelectedBank();this.widget.trigger("UpiActionChangeEvent",{isUpiValidationContainerSelected:!1,selectedBank:b,redirectUrl:this.redirectUrl,returnUrl:this.returnUrl,clientId:this.clientId})}},_isBankSelected:function(){return""!==this._getUpiRegistrationSelectedBank()},bindToEvents:function(){var b=this;h.bind(n.prototype.bindToEvents,
this).apply();b.widget.on("ValidateUpiIdResultEvent",this,function(b){this.isUpiValidated=b});b.widget.on("componentsInitialized",b,function(){var c=b.getDOMElement(b.upiActionDropdown);0<c.length&&c.trigger("change");b.isUpiValidated=!1});b.widget.on("apbSelectionChanged",b,function(c){void 0!==b.widget.get("apbCheckboxSelected")&&b.isUpiAPBMultiTenderEnabled&&(b.isAPBSelected=c.isSelected,b._triggerUpiRegistrationSelection())})},bindToElements:function(){var b=this;h.bind(n.prototype.bindToElements,
this).apply();var c=b.getDOMElement(b.upiBankSelectDropdown);0<c.length&&c.bind("change",function(){b.isUpiRegistrationSelected=!0;b.setContinuable(!0);b.widget.trigger("UpiBankSelectionChangeEvent",{selectedBank:b._getUpiRegistrationSelectedBank(),redirectUrl:b.redirectUrl,returnUrl:b.returnUrl,clientId:b.clientId})});this.watchContinuable(this,function(c){b.isUpiRegistrationSelected&&c?b.widget.trigger("UpiRedirectionRequiredEvent"):b.widget.trigger("PaymentPlanSelected",{isValid:c})});c=b.getDOMElement(b.upiActionDropdown);
0<c.length&&c.bind("change",function(){var c=this.value;"upi-registration"===c?(b.isUpiRegistrationSelected=!0,b._triggerUpiRegistrationSelection()):"upi-acceptance"===c&&(b.isUpiRegistrationSelected=!1,b.setContinuable(b.isUpiValidated),b._toggleUncheckAPBtoEnableUPIMessage(!1),b.widget.trigger("UpiActionChangeEvent",{isUpiValidationContainerSelected:!0}),b._toggleUPIRegistrationContainer(!1))})}})});m("components/ValidateUpiComponent",["form-component","css-utils","continuable","lang"],function(n,
f,e,h){var c,b,k,q,g,a,d,m,v,r,t,s,p;return n.extend(e,{initialize:function(d,e){c=e.data.JsBindingEncryptedVpaInput;b=e.data.JsBindingValidateVpaButton;k=e.data.JsBindingAlertSuccess;q=e.data.JsBindingAlertFailure;g=e.data.JsBindingSectionSuccess;a=e.data.JsBindingInputHelpTextSection;p=null},bindToElements:function(){var l=this;d=this.getDOMElement(c);m=this.getDOMElement(b);v=this.getDOMElement(k);r=this.getDOMElement(q);t=this.getDOMElement(g);s=this.getDOMElement(a);this.watchContinuable(this,
function(a){l.widget.trigger("ValidateUpiIdResultEvent",a);a&&l._displaySuccessMessage();l.widget.trigger("PaymentPlanSelected",{isValid:a})});d.live("input propertychange",function(){l._setInputHelpTextVisible(!0);l.setContinuable(p&&p===d.val())});l.setContinuable(p&&p===d.val());d.focusout(this._canonicalizeInputTextField);m.click(function(){d.focusout();var a=l.form.validateForm();if(0<a.length)l._displayFormErrorMessages(a),l.widget.trigger("ValidateUpiIdResultEvent",!1);else{var c=d.val();l.widget.trigger("submitFormAjaxStarted");
l.widget.continueRequest({"ppw-widgetState":l.getWidgetState(b),"ppw-widgetEvent":"ValidateUpiIdEvent",__sif_encryptedVPA_collect:c},{success:function(a){var d=a.additionalWidgetResponseData.additionalData.valid;a=a.additionalWidgetResponseData.additionalData.message;"true"===d?(p=c,l.setContinuable(!0),l._displaySuccessMessage(a)):"false"===d?(p=null,l.setContinuable(!1),l._displayErrorMessage(a)):a&&(p=null,l.setContinuable(!0),l._displayErrorMessage(a))},complete:function(){l.widget.trigger("submitFormAjaxCompleted")}})}return!1})},
_displayFormErrorMessages:function(a){0!==a.length&&(a=a[0],r.find(".a-alert-content").html(a.localizedMessageString),this.form.displayErrorMessage(a.field,r),f.hideElement(t),f.hideElement(s))},_displayErrorMessage:function(a){r.find(".a-alert-content").html(a);f.showElement(r);f.hideElement(t);f.hideElement(s)},_displaySuccessMessage:function(a){a&&v.find(".a-alert-content").html(a);f.showElement(t);f.hideElement(r);f.hideElement(s)},_setInputHelpTextVisible:function(a){a?(f.showElement(s),f.hideElement(t),
f.hideElement(r)):f.hideElement(s)},_canonicalizeInputTextField:function(){var a=h.trim(d.val());d.val(a)}})});m("components/SelectableUpiListComponent",["component","lang","AUI!P","jQuery","clog"],function(n,f,e,h,c){var b,k=function(a,d,c,e,f){if(!b){var h=window.cordova;if(h)b=h.require("cordova/exec");else{f(a,d,null,"cordova undefined");return}}var g=q();b(function(b){e(a,d,g,b)},function(b){f(a,d,g,b)},"AipsJusPayPlugin",d,[{requestId:g,payload:c}])},q=function(){function a(){return Math.random().toString(16).slice(-4)}
return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},g=function(a,d,b,c,e,f){var g={};if("SUCCESS"===c.status)if(e.forEach(function(a){g[a]=0}),c.hasOwnProperty("permissions")){c.permissions.forEach(function(a){"GRANTED"===a.status&&(g[a.label]=1)});for(var h in g)if(!g[h]){f.externalNeedsPermissionsHandler(a);return}f.externalHasPermissionsHandler(a)}else f.externalErrorHandler(a,d,b,c);else f.externalErrorHandler(a,d,b,c)},a=function(a,d,b,c){k(a,"CHECK_PERMISSION",{permission:d},b,c)},d=function(d,
b){var c=["android.permission.READ_PHONE_STATE","android.permission.SEND_SMS","android.permission.RECEIVE_SMS"];a(d,c,function(a,d,u,e){g(a,d,u,e,c,b)},b.externalErrorHandler)},m=function(a,d,b,c){k(a,"IS_DEVICE_FINGERPRINT_VALID",{deviceFingerPrint:d},b,c)},v=function(a,d,b,c,e,f){var g={externalMatchHandler:c,externalMismatchHandler:e,externalErrorHandler:f};m(a,b,function(a,c,e,u){u&&"SUCCESS"===u.status?"true"===u.isValid?g.externalMatchHandler(a,d,b):g.externalMismatchHandler(a,d):g.externalErrorHandler(a,
c,e,u)},g.externalErrorHandler)},r=function(a,d,b){k(a,"SDK_INIT",{},d,b)},t=function(a,b,c,g){var f={externalHasPermissionsHandler:b,externalNeedsPermissionsHandler:c,externalErrorHandler:g};e.when("safe-mash").execute(function(b){b&&r(a,function(a,b,c,e){"SUCCESS"===e.status?(a.isJuspaySdkCallEligible=!0,d(a,f)):f.externalErrorHandler(a,b,c,e)},f.externalErrorHandler)})},s=function(a,b,d){for(var e in a.savedHandleIndexes)a.widget.trigger("JuspayDeviceSignatureMatchesEvent",e,d);c.logCounterMetric({feature:"SelectableUpiSdkCalls",
resource:"_SuccessCount"});c.logLatencyMetric({feature:"SelectableUpiSdkCalls",resource:"_Latency",startTime:a.sdkCallStartTime});c.publishMetrics()},p=function(a,d){for(var b in a.savedHandleIndexes)a.widget.trigger("JuspayDeviceSignatureDoesNotMatchEvent",b);c.logCounterMetric({feature:"SelectableUpiSdkCalls",resource:"_SuccessCount"});c.logLatencyMetric({feature:"SelectableUpiSdkCalls",resource:"_Latency",startTime:a.sdkCallStartTime});c.publishMetrics()},l=function(a){a.isDeviceSignatureCheckEligible=
!0;a.widget.trigger("JuspayHasPermissionsEvent")},x=function(a){a.isDeviceSignatureCheckEligible=!1;a.widget.trigger("JuspayHasNoPermissionsEvent");c.logCounterMetric({feature:"SelectableUpiSdkCalls",resource:"_SuccessCount"});c.logLatencyMetric({feature:"SelectableUpiSdkCalls",resource:"_Latency",startTime:a.sdkCallStartTime});c.publishMetrics()},w=function(a,b,d,e){a.isJuspaySdkCallEligible=!1;window.console.error("JusPay SDK failed",b,d,e);a.widget.trigger("JuspayErrorEvent");c.logCounterMetric({feature:"SelectableUpiSdkCalls",
resource:"_ErrorCount"});c.logLatencyMetric({feature:"SelectableUpiSdkCalls",resource:"_Latency",startTime:a.sdkCallStartTime});c.publishMetrics()};return n.extend({isDeviceSignatureCheckEligible:!1,isDeviceSignatureAlreadyChecked:!1,isJuspaySdkCallEligible:!1,isSavedHandleComponentUsable:!1,savedHandleIndexes:[],initialize:function(a,b){if(this.isSavedHandleComponentUsable=b.data.isSavedHandleComponentUsable)c.logCounterMetric({feature:"SelectableUpiSdkCalls",resource:"_Count"}),c.publishMetrics(),
this.sdkCallStartTime=c.getCurrentTime(),t(this,l,x,w)},bindToEvents:function(){var a=this;f.bind(n.prototype.bindToEvents,this).apply();a.widget.on("JuspayCheckDeviceSignatureEvent",a,function(b,d){a.savedHandleIndexes.includes(b)||a.savedHandleIndexes.push(b);a.isDeviceSignatureAlreadyChecked||(a.isDeviceSignatureAlreadyChecked=!0,a.isJuspaySdkCallEligible?a.isDeviceSignatureCheckEligible?v(a,b,d,s,p,w):a.widget.trigger("JuspayHasNoPermissionsEvent"):a.widget.trigger("JuspayErrorEvent"))})}})});
m("components/SelectableUpiListItemComponent","component continuable events/InstrumentRowSelectedEvent public-event-registry css-utils components/SimplePaymentOptionListItemComponent lang upi-redirection-util clog".split(" "),function(n,f,e,h,c,b,k,m,g){return b.extend(f,{selectableUpiContainer:"",upiDisabledApbMessageContainer:"",isUpiUsable:!0,instrumentId:"",instrumentType:"",isAPBSelected:!1,savedHandleIndex:"0",isPinChosen:!1,deviceSignature:"",isDeviceSignatureValid:!1,isPermanentDisabled:!0,
isAIPSRedirectRequired:!0,redirectUrl:"",returnUrl:"",isUpiIssuanceAPBMultiTenderEnabled:"",isUpiSavedHandleAPBMultiTenderEnabled:!1,clientId:"",initialize:function(a,b){this.isUpiUsable=b.data.isUpiUsable;this.instrumentId=b.data.instrumentId;this.instrumentType=b.data.instrumentType;this.selectableUpiContainer=b.data.selectableUpiContainer;this.upiDisabledApbMessageContainer=b.data.upiDisabledApbMessageContainer;this.savedHandleIndex=b.data.savedHandleIndex;this.isPinChosen=b.data.isPinChosen;this.deviceSignature=
b.data.deviceSignature;this._toggleUncheckAPBtoEnableUPIMessage(!1);this.redirectUrl=b.data.redirectUrl;this.returnUrl=b.data.returnUrl;this.isUpiIssuanceAPBMultiTenderEnabled=b.data.isUpiIssuanceAPBMultiTenderEnabled;this.clientId=b.data.clientId;this.setDisabled(!0);this.isUpiUsable&&h.register(e)},_onInstrumentSelected:function(){this._getContainerElement().addClass("pmts-selected");this._getInstrumentSelectionInputElement().prop("checked",!0);this._triggerBackingInstrumentSelectedEvent()},_onInstrumentDeselected:function(){this._getContainerElement().removeClass("pmts-selected");
this._getInstrumentSelectionInputElement().prop("checked",!1)},_isInstrumentSelected:function(){return this._getContainerElement().hasClass("pmts-selected")},_getContainerElement:function(){return this.getDOMElement(this.selectableUpiContainer)},_toggleUncheckAPBtoEnableUPIMessage:function(a){0<this.getDOMElement(this.upiDisabledApbMessageContainer).length&&c.toggleElement(this.getDOMElement(this.upiDisabledApbMessageContainer),a)},_triggerBackingInstrumentSelectedEvent:function(){this.widget.trigger("backingInstrumentSelected",
{instrumentId:this._getInstrumentId(),instrumentType:this._getInstrumentType(),errors:[],paymentMethod:this.data.paymentMethod,isUpiRedirectionRequired:this.isAIPSRedirectRequired})},_setAPBSelectionChanged:function(a){!this.isUpiUsable||this.isPermanentDisabled||this.isUpiSavedHandleAPBMultiTenderEnabled||(this._isInstrumentSelected()&&a&&(this.setContinuable(!1),this.widget.trigger("PaymentPlanSelected",{isValid:!1})),this.setDisabled(a),this._toggleUncheckAPBtoEnableUPIMessage(a))},_setDisabled:function(a,
b){this.isPermanentDisabled=a;this.isAIPSRedirectRequired=!(b&&this.isPinChosen);this.isDeviceSignatureValid=b;this.isUpiSavedHandleAPBMultiTenderEnabled=this.isUpiIssuanceAPBMultiTenderEnabled&&!this.isAIPSRedirectRequired;this.setDisabled(a);this._setAPBSelectionChanged(this.isAPBSelected)},bindToEvents:function(){var a=this;k.bind(b.prototype.bindToEvents,this).apply();a.widget.on(e,this,function(a){a.instrumentId===this._getInstrumentId()?this._onInstrumentSelected():this._onInstrumentDeselected()});
a.widget.on("apbSelectionChanged",a,function(b){void 0!==a.widget.get("apbCheckboxSelected")&&(a.isAPBSelected=b.isSelected,a._setAPBSelectionChanged(a.isAPBSelected))});a.widget.on("JuspayDeviceSignatureMatchesEvent",a,function(b,c){a.isUpiUsable&&a.savedHandleIndex===b&&a._setDisabled(!1,a.deviceSignature===c)});a.widget.on("JuspayDeviceSignatureDoesNotMatchEvent",a,function(b){a.isUpiUsable&&a.savedHandleIndex===b&&a._setDisabled(!1,!1)});a.widget.on("JuspayHasPermissionsEvent",a,function(){a.widget.trigger("JuspayCheckDeviceSignatureEvent",
this.savedHandleIndex,this.deviceSignature)});a.widget.on("JuspayHasNoPermissionsEvent",a,function(){a.isUpiUsable&&a._setDisabled(!1,!1)});a.widget.on("JuspayErrorEvent",a,function(){a._setDisabled(!0,!1)});a.widget.on("UpiRedirectionContinueEvent",a,function(){var b=g.getCurrentTime();a._isInstrumentSelected()&&(g.logCounterMetric({feature:"SelectableUpiAipsRedirection",resource:"_Count"}),a.isDeviceSignatureValid?a.isPinChosen||(g.logCounterMetric({feature:"SelectableUpiAipsRedirectionPinNotSet",
resource:"_Count"}),m.upiPinNotSet(a._getInstrumentId(),a.redirectUrl,a.returnUrl,a.clientId)?g.logCounterMetric({feature:"SelectableUpiAipsRedirectionPinNotSet",resource:"_SuccessCount"}):g.logCounterMetric({feature:"SelectableUpiAipsRedirectionPinNotSet",resource:"_ErrorCount"}),g.logLatencyMetric({feature:"SelectableUpiAipsRedirectionPinNotSet",resource:"_Latency",startTime:b})):(g.logCounterMetric({feature:"SelectableUpiAipsRedirectionDeviceSignatureMismatch",resource:"_Count"}),m.upiDeviceFingerprintDoesNotMatch(a._getInstrumentId(),
a.redirectUrl,a.returnUrl,a.clientId)?g.logCounterMetric({feature:"SelectableUpiAipsRedirectionDeviceSignatureMismatch",resource:"_SuccessCount"}):g.logCounterMetric({feature:"SelectableUpiAipsRedirectionDeviceSignatureMismatch",resource:"_ErrorCount"}),g.logLatencyMetric({feature:"SelectableUpiAipsRedirectionDeviceSignatureMismatch",resource:"_Latency",startTime:b})),g.publishMetrics());return!1})},bindToElements:function(){var a=this;a.isUpiUsable&&a._getContainerElement().click(function(){a._isInstrumentSelected()||
!a.isUpiUsable||a.isPermanentDisabled||a.isAPBSelected&&!a.isUpiSavedHandleAPBMultiTenderEnabled||a._triggerInstrumentRowSelectedEvent()})}})});m("upi-redirection-util",["mash-helper"],function(m){var f=function(e){try{var f;e.bankCode&&(f={"bank-info":{"bank-code":e.bankCode}});var c={};e.id&&(c["payment-method-id"]=e.id);f&&(c["payment-method-specific-data"]=f);var b=JSON.stringify({operation:e.operation,"payment-method-details":c,"return-location":e.returnUrl,"client-category":"PURCHASE","client-name":e.clientId}),
k=window.btoa(b);m.navigateToUrl(e.redirectUrl+window.encodeURIComponent(k));return!0}catch(q){return window.console.error("Got an exception while generating request body for AIPS redirection with name="+q.name+", message="+q.message),!1}};return{upiRegistration:function(e,h,c,b){return h&&c?f({operation:"NEW_REGISTRATION",bankCode:e,redirectUrl:h,returnUrl:c,clientId:b}):!1},upiPinNotSet:function(e,h,c,b){return h&&c?f({operation:"SET_PIN",id:e,redirectUrl:h,returnUrl:c,clientId:b}):!1},upiDeviceFingerprintDoesNotMatch:function(e,
h,c,b){return h&&c?f({operation:"RE_REGISTRATION",id:e,redirectUrl:h,returnUrl:c,clientId:b}):!1}}})})();
